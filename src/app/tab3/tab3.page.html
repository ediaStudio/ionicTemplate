<!--
  Header section.
-->
<ion-header>
    <ion-toolbar color="primary">
        <ion-title>
            {{ "openAi" | translate }}
        </ion-title>
    </ion-toolbar>
</ion-header>

<!--
  Main content section with padding.
  Includes a list of UI elements: an input field and a submit button.
-->
<ion-content class="ion-padding">

    <!--
      List container for form elements: input and button.
    -->
    <ion-list>

        <!--
          Input field:
          - Binds to the 'prompt' variable using ngModel.
          - Displays a translated label ('prompt').
          - Allows clearing the input.
          - Uses stacked label placement and has a placeholder.
        -->
        <ion-item>
            <ion-input
                    [(ngModel)]="prompt"
                    [clearInput]="true"
                    [label]="'prompt' | translate"
                    labelPlacement="stacked"
                    placeholder="Enter text to see clear button"
                    value="Default value">
            </ion-input>
        </ion-item>

        <!--
          Submit button:
          - Calls the openaiApi() method on click.
          - Disabled when 'prompt' is empty.
          - Styled with margin, primary color, full width, and rounded shape.
          - Label is translated as 'submit'.
        -->
        <ion-button
                (click)="openaiApi()"
                [disabled]="!prompt"
                class="ion-margin-top"
                color="primary"
                expand="full"
                shape="round">
            {{ "submit" | translate }}
        </ion-button>

        <ion-button
                (click)="webSearchQuery()"
                class="ion-margin-top"
                color="secondary"
                expand="full"
                shape="round">
            {{ "getLastGames" | translate }}
        </ion-button>
        <!--        Liste des matchs non formatÃ©es-->
        <div>{{ notFormattedGames }}</div>

        <ion-button
                (click)="webSearchQueryFormatted()"
                class="ion-margin-top"
                color="tertiary"
                expand="full"
                shape="round">
            {{ "getLastGamesFormatted" | translate }}
        </ion-button>

    </ion-list>

    <div *ngFor="let r of responses" class="ion-margin-top">
        {{ r }}
    </div>

    <!--    Formatted response-->
    <div *ngFor="let match of lastGames" class="match">
        <p><strong>Date:</strong> {{ match.date }}</p>
        <p><strong>Home:</strong> {{ match.home_team }}</p>
        <p><strong>Away:</strong> {{ match.away_team }}</p>
        <p><strong>Score:</strong> {{ match.score }}</p>
        <hr/>
    </div>
</ion-content>
